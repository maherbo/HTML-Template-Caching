<html>
<head>
<title>HTML Template Loader Demo</title>
<style>option, .blue{color:blue;}</style>
<script>
function setEvents(){
	document.getElementById("p-cbg").addEventListener('click', function(){
		if(this.style.backgroundColor == "lightblue") this.style.backgroundColor = "white";
		else  this.style.backgroundColor = "lightblue";
		});		
	document.getElementById("select").addEventListener('change', function(){
		document.getElementById("output").innerHTML = this.value;
		});
}

function setTemplate(frame){
	var frameName = frame.getAttribute("name"),
		template = 
		window
		.frames[frameName] //iframe must have a name
		.document
		.body
		.childNodes;
		
	var docFrag = document.createDocumentFragment();
	
	for(var i = 0, length = template.length; i < length; i++){
		docFrag.appendChild(document.importNode(template[i],true));
	}
	
	frame.parentNode.insertBefore(docFrag, frame);

	frame.parentNode.removeChild(frame);
}
</script>
</head>
<body onload="setEvents()">
<p>This is some text from the <mark>main template</mark> (must revalidate).</p>
<iframe name=frame1 onload="setTemplate(this)" src="template.html" style="display:none;"></iframe><!-- Must be a source from same origin (no local files in CHROME) -->
<p>This is some other text from the <mark>main template</mark>.</p>
</body>
</html>